(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{123:function(e,t){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(19),i=a.n(o),l=a(8),r=a(20),c=a(14),m={isStart:!1};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SERVER_IS_START":return Object(c.a)({},e,{isStart:t.value})||e;default:return e}},u={isConnect:!1,name:null,role:null,token:null,id:null};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER":return Object(c.a)({},e,{isConnect:!0,name:t.value.userName,role:t.value.userRole,token:t.value.userToken})||e;default:return e}},v={loaderStart:!1};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADER_START":return Object(c.a)({},e,{loaderStart:t.value})||e;default:return e}},p={listOfVideos:null,titleOfVideos:null};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES":return Object(c.a)({},e,{listOfVideos:t.value.listOfVideos,titleOfVideos:t.value.titleOfVideos})||e;default:return e}},g=Object(r.b)({server:_,user:d,animations:h,movie:f}),E=Object(r.c)(g),b=(a(92),a(2)),y=a(3),S=a(4),N=a(5),k=a(15),w=a(7),C=(a(49),function(){var e=Object(l.c)();console.log("https://sith-api.hopto.org/sockets/");var t=a(49)("https://sith-api.hopto.org/sockets/");return t.on("message",(function(t){e({type:"LOADER_START",value:!1}),e({type:"SERVER_IS_START",value:!0})})),t.on("disconnect",(function(a){"io server disconnect"===a&&t.connect(),e({type:"SERVER_IS_START",value:!1})})),null}),O=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={},n}return Object(y.a)(a,[{key:"render",value:function(){var e;return e=3===this.props.userRole?s.a.createElement("div",{className:"home__links"},s.a.createElement(w.b,{className:"home__links__link",to:"/video"},s.a.createElement("span",null,"Films")),s.a.createElement(w.b,{className:"home__links__link",to:"/series"},s.a.createElement("span",null,"S\xe9ries")),s.a.createElement(w.b,{className:"home__links__link",to:"/music"},s.a.createElement("span",null,"Musiques")),s.a.createElement(w.b,{className:"home__links__link",to:"/admin"},s.a.createElement("span",null,"Administration"))):2===this.props.userRole?s.a.createElement("div",{className:"home__links"},s.a.createElement(w.b,{className:"home__links__link",to:"/video"},s.a.createElement("span",null,"Vid\xe9os")),s.a.createElement(w.b,{className:"home__links__link",to:"/series"},s.a.createElement("span",null,"S\xe9ries")),s.a.createElement(w.b,{className:"home__links__link",to:"/music"},s.a.createElement("span",null,"Musiques"))):s.a.createElement("div",{className:"home__links"},s.a.createElement(w.b,{className:"home__links__link",to:"/video"},s.a.createElement("span",null,"Vid\xe9os")),s.a.createElement(w.b,{className:"home__links__link",to:"/series"},s.a.createElement("span",null,"S\xe9ries"))),s.a.createElement("div",{className:"home"},s.a.createElement("div",{className:"home__links"},e))}}]),a}(n.Component),F=Object(l.b)((function(e){return{userRole:e.user.role}}),(function(e){return{dispatch:function(t){e(t)}}}))(O),T=a(9),x=a(6),M=a.n(x),D="https://sith-api.hopto.org/api/",R=null,j=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).activeRandomSong=function(){n.state.randomSong?n.setState({randomSong:!1}):n.setState({randomSong:!0,reloadSong:!1,reloadAlbum:!1})},n.activeReloadSong=function(){n.state.reloadSong?n.setState({reloadSong:!1}):n.setState({reloadSong:!0,reloadAlbum:!1,randomSong:!1})},n.activeReloadAlbum=function(){n.state.reloadAlbum?n.setState({reloadAlbum:!1}):n.setState({reloadAlbum:!0,reloadSong:!1,randomSong:!1})},n.playNextSong=function(){if(n.state.reloadSong)R.currentTime=0,R.play();else if(n.state.randomSong){var e=Math.floor(n.state.listOfSongs.length-1),t=Math.floor(Math.random()*(e-0))+0;n.getStream(n.state.listOfSongs[t])}else{var a=n.state.listOfSongs.indexOf(n.state.songTitle),s=n.state.listOfSongs[a+1];a+1<=n.state.listOfSongs.length-1?n.getStream(s):n.state.reloadAlbum&&n.getStream(n.state.listOfSongs[0])}},n.getAllFolders=function(){var e={headers:{Authorization:"Bearer ".concat(n.props.userToken)}};M.a.get(D+"music/folder",e).then((function(e){n.setState({listOfFolders:e.data})})).catch((function(e){}))},n.getAllSongs=function(){M.a.get(D+"get-all-songs/").then((function(e){n.setState({listOfSongs:e.data.repertorySongs,repertoryImg:e.data.repertoryImg})})).catch((function(e){}))},n.changePlayerState=function(){"paused"===n.state.playerStatus?(R.play(),n.setState({playerStatus:"playing"})):(R.pause(),n.setState({playerStatus:"paused"}))},n.fastBackward=function(){var e=n.state.listOfSongs.indexOf(n.state.songTitle),t=n.state.listOfSongs[e-1];e-1>=0&&n.getStream(t)},n.fastForward=function(){var e=n.state.listOfSongs.indexOf(n.state.songTitle),t=n.state.listOfSongs[e+1];e+1<=n.state.listOfSongs.length-1?n.getStream(t):n.getStream(n.state.listOfSongs[0])},n.state={listOfSongs:[],playerStatus:"stopped",songIsCharged:!1,currentTime:"0:00",duration:"0:00",songTitle:"",source:null,showMusicFolder:!0,listOfFolders:[],openFolder:null,reloadAlbum:!1,reloadSong:!1,randomSong:!1,isFirstSongOfAlbulm:!1},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.getAllFolders(),this.getAlbumImg()}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.songIsCharged&&(R.onended=function(){a.playNextSong()})}},{key:"getAlbumImg",value:function(){var e=this;M.a.get(D+"img/",{responseType:"arraybuffer"}).then((function(t){var a=btoa(new Uint8Array(t.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""));e.setState({source:"data:;base64,"+a})}))}},{key:"getStream",value:function(e){var t=this;this.state.songIsCharged&&R.pause(),this.setState({songIsCharged:!0,songTitle:e,playerStatus:"playing"}),(R=new Audio(D+"play/"+this.state.openFolder+"/"+e)).play(),R.ontimeupdate=function(){t.getCurrentTime()}}},{key:"openFolder",value:function(e){var t=this,a={headers:{Authorization:"Bearer ".concat(this.props.userToken)}};M.a.get(D+"get-folder-songs/"+e,a).then((function(a){t.setState({listOfSongs:a.data.repertorySongs,repertoryImg:a.data.repertoryImg,showMusicFolder:!1,openFolder:e})})).catch((function(e){}))}},{key:"backward",value:function(){R.currentTime=R.currentTime-10}},{key:"forward",value:function(){R.currentTime=R.currentTime+10}},{key:"getTime",value:function(e){if(!isNaN(e))return Math.floor(e/60)+":"+("0"+Math.floor(e%60)).slice(-2)}},{key:"getCurrentTime",value:function(){if(!0===this.state.songIsCharged){var e=Math.floor(R.currentTime/60)+":"+("0"+Math.floor(R.currentTime%60)).slice(-2);this.setState({currentTime:e}),0===this.state.listOfSongs.indexOf(this.state.songTitle)?this.setState({isFirstSongOfAlbulm:!0}):this.setState({isFirstSongOfAlbulm:!1})}}},{key:"getDuration",value:function(){if(!0===this.state.songIsCharged){var e=Math.floor(R.duration/60)+":"+("0"+Math.floor(R.duration%60)).slice(-2);return isNaN(R.duration)?"":e}}},{key:"render",value:function(){var e=this,t=this.state.openFolder,a=this.state.songTitle,n=this.state.currentTime,o=this.getDuration(),i=this.state.listOfFolders.map((function(t,a){return s.a.createElement("div",{className:"music__folder__folder-title",key:a,onClick:function(){return e.openFolder(t)}},s.a.createElement("span",null,t))})),l=this.state.listOfSongs.map((function(t,a){return s.a.createElement("div",{className:"music__list__song-title",key:a,onClick:function(){return e.getStream(t)}},s.a.createElement("span",null,t))}));return s.a.createElement("div",{className:"music"},this.state.showMusicFolder?s.a.createElement("div",{className:"music__folder"},i):s.a.createElement("div",{className:"music__list"},s.a.createElement("span",{className:"video-detail__link-to-home",onClick:function(){return e.setState({showMusicFolder:!0})}},s.a.createElement(T.a,{icon:"arrow-left",size:"1x"})),l),s.a.createElement("div",{className:"music__player"},s.a.createElement("div",{className:"music__player__song-information"},s.a.createElement("div",{className:"music__player__song-information__content"},s.a.createElement("span",{className:"music__player__song-information__content__song-title"},a),s.a.createElement("span",{className:"music__player__song-information__content__album-title"},t))),s.a.createElement("div",{className:"music__player__timer"},"playing"===this.state.playerStatus||"paused"===this.state.playerStatus?s.a.createElement("div",{className:"music__player__timer__currentime"},s.a.createElement("span",null,n," / ",o)):s.a.createElement("div",{className:"music__player__timer__currentime"},s.a.createElement("span",null,"0:00 / 0:00")),s.a.createElement("div",{className:"music__player__timer__song-options"},s.a.createElement("button",{className:"music__player__timer__song-options__reload-button "+(this.state.randomSong?"isCheck":""),onClick:this.activeRandomSong},s.a.createElement(T.a,{icon:"random"})),s.a.createElement("button",{className:"music__player__timer__song-options__reload-button "+(this.state.reloadSong?"isCheck":""),onClick:this.activeReloadSong},s.a.createElement(T.a,{icon:"retweet"}),s.a.createElement("span",{className:"music__player__timer__song-options__reload-button__reload-song-span"},"1")),s.a.createElement("button",{className:"music__player__timer__song-options__reload-button "+(this.state.reloadAlbum?"isCheck":""),onClick:this.activeReloadAlbum},s.a.createElement(T.a,{icon:"retweet"}),s.a.createElement("span",{className:"music__player__timer__song-options__reload-button__reload-song-span"},"all")))),s.a.createElement("div",{className:"music__player__control"},s.a.createElement("div",{className:"music__player__control__buttons"},this.state.isFirstSongOfAlbulm?s.a.createElement("button",{disabled:!0,className:"music__player__control__buttons__button music__player__control__button__back isDisabled",onClick:this.fastBackward},s.a.createElement(T.a,{icon:"fast-backward"})):s.a.createElement("button",{className:"music__player__control__buttons__button music__player__control__button__back",onClick:this.fastBackward},s.a.createElement(T.a,{icon:"fast-backward"})),s.a.createElement("button",{className:"music__player__control__buttons__button music__player__control__button__back",onClick:this.backward},s.a.createElement(T.a,{icon:"backward"})),"stopped"===this.state.playerStatus||"paused"===this.state.playerStatus?s.a.createElement("button",{className:"music__player__control__buttons__button",onClick:this.changePlayerState},s.a.createElement(T.a,{icon:"play",size:"1x"})):s.a.createElement("button",{className:"music__player__control__buttons__button",onClick:this.changePlayerState},s.a.createElement(T.a,{icon:"pause",size:"1x"})),s.a.createElement("button",{className:"music__player__control__buttons__button music__player__control__button__next",onClick:this.forward},s.a.createElement(T.a,{icon:"forward"})),s.a.createElement("button",{className:"music__player__control__buttons__button music__player__control__button__next",onClick:this.fastForward},s.a.createElement(T.a,{icon:"fast-forward"}))))))}}]),a}(n.Component),A=Object(l.b)((function(e){return{userToken:e.user.token}}),(function(e){return{dispatch:function(t){e(t)}}}))(j),I=a(79),V=a(43),U=a(24),z=I.animateScroll,P=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).getVideos=function(){n.getLastTen(),n.getCategorys()},n.handleSearchFilmChange=function(e){z.scrollToTop();var t=e.target.value;if(n.setState({searchFilm:t,showCategory:!1}),t.length>0){var a=new V.a(n.props.listOfVideos,{includeScore:!0,keys:["title"]}).search(t);n.setState({searchVideoResults:a,searchActive:!0})}else n.setState({searchActive:!1})},n.deleteSearch=function(){n.setState({searchVideoResults:[],searchActive:!1,searchFilm:""})},n.showCategory=function(){n.setState({showCategory:!0,searchFilm:""})},n.hideCategory=function(){n.setState({showCategory:!1,searchFilm:""})},n.getLastTen=function(){var e=n.props.listOfVideos;console.log(e),e=e.sort(n.sortByDate);for(var t=[],a=0;a<10;a++){var s=e[a];t.push(s)}n.setState({getLastTen:t})},n.sortByDate=function(e,t){return new Date(e.created_at)>new Date(t.created_at)?1:-1},n.getCategorys=function(){var e=n.props.listOfVideos,t=[];e.forEach((function(e){e.genres_name.includes("Science-Fiction")&&t.push(e)}));var a=[];e.forEach((function(e){e.genres_name.includes("Fantastique")&&a.push(e)}));var s=[];e.forEach((function(e){e.genres_name.includes("Horreur")&&s.push(e)})),n.setState({sciFiGenre:t,fantasyGenre:a,horrorGenre:s})},n.state={searchInlistOfVideos:[],searchVideoResults:[],searchActive:!1,showCategory:!0,getLastTen:[],sciFiGenre:[],fantasyGenre:[],horrorGenre:[]},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.listOfVideos&&this.getVideos()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){if(null===this.props.listOfVideos)return s.a.createElement(k.a,{to:"/"});var e,t=this.props.listOfVideos.map((function(e,t){return s.a.createElement(w.b,{className:"video__content__video-info",to:"/video-detail/"+e.title,key:t},s.a.createElement("img",{src:e.poster_path,alt:"film-poster",className:"video__content__video-info__img"}),s.a.createElement("div",{className:"video__content__video-info__text"},s.a.createElement("span",{className:"video__content__video-info__text__title"},e.title),s.a.createElement("p",{className:"video__content__video-info__text__overview"},e.overview.substr(0,250)),s.a.createElement("span",{className:"video__content__video-info__text__vote"},"Note Tmdb: ",e.vote_average," / 10")))})),a=this.state.getLastTen.map((function(e,t){return s.a.createElement(w.b,{className:"video__category__container__link",to:"/video-detail/"+e.title,key:t,style:{backgroundImage:"url("+e.poster_path+")"}})})),n=this.state.sciFiGenre.map((function(e,t){return s.a.createElement(w.b,{className:"video__category__container__link",to:"/video-detail/"+e.title,key:t,style:{backgroundImage:"url("+e.poster_path+")"}})})),o=this.state.fantasyGenre.map((function(e,t){return s.a.createElement(w.b,{className:"video__category__container__link",to:"/video-detail/"+e.title,key:t,style:{backgroundImage:"url("+e.poster_path+")"}})})),i=this.state.horrorGenre.map((function(e,t){return s.a.createElement(w.b,{className:"video__category__container__link",to:"/video-detail/"+e.title,key:t,style:{backgroundImage:"url("+e.poster_path+")"}})})),l=this.state.searchVideoResults.map((function(e,t){return s.a.createElement(w.b,{className:"video__content__video-info",to:"/video-detail/"+e.item.title,key:t},s.a.createElement("img",{src:e.item.poster_path,alt:"film-poster",className:"video__content__video-info__img"}),s.a.createElement("div",{className:"video__content__video-info__text"},s.a.createElement("span",{className:"video__content__video-info__text__title"},e.item.title),s.a.createElement("p",{className:"video__content__video-info__text__overview"},e.item.overview.substr(0,250)),s.a.createElement("span",{className:"video__content__video-info__text__vote"},"Note Tmdb: ",e.item.vote_average," / 10")))}));return e=this.state.showCategory?s.a.createElement("div",{className:"video__category"},s.a.createElement("div",{className:"video__category__container"},s.a.createElement("h2",null,"Derniers films ajout\xe9s"),s.a.createElement(U.a,{withoutControls:!0,width:"100%",slidesToShow:3.5,slidesToScroll:"auto"},a)),s.a.createElement("div",{className:"video__category__container"},s.a.createElement("h2",null,"Films de Science Fiction"),s.a.createElement(U.a,{withoutControls:!0,width:"100%",slidesToShow:3.5,slidesToScroll:"auto"},n)),s.a.createElement("div",{className:"video__category__container"},s.a.createElement("h2",null,"Films Fantastique"),s.a.createElement(U.a,{withoutControls:!0,width:"100%",slidesToShow:3.5,slidesToScroll:"auto"},o)),s.a.createElement("div",{className:"video__category__container"},s.a.createElement("h2",null,"Films Horreur"),s.a.createElement(U.a,{withoutControls:!0,width:"100%",slidesToShow:3.5,slidesToScroll:"auto"},i))):s.a.createElement("div",{className:"video"},s.a.createElement("div",{className:"video__content"},this.state.searchActive?s.a.createElement("div",{className:"video__content__display"},l):s.a.createElement("div",{className:"video__content__display"},t))),s.a.createElement("div",{className:"video"},e,s.a.createElement("div",{className:"video__searchbar"},s.a.createElement("div",{className:"video__searchbar__opacity"}),s.a.createElement("div",{className:"video__searchbar__content"},s.a.createElement("button",{className:"video__searchbar__content__show-category",onClick:this.showCategory},s.a.createElement(T.a,{icon:"home",size:"1x"}),s.a.createElement("small",null,"Cat\xe9gories")),s.a.createElement("div",{className:"video__searchbar__content__input"},s.a.createElement("input",{type:"text",id:"InputId",autoComplete:"off",value:this.state.searchFilm,onChange:this.handleSearchFilmChange,placeholder:"Rechercher un film"}),this.state.searchActive&&s.a.createElement("button",{className:"video__searchbar__content__input__delete",onClick:this.deleteSearch},s.a.createElement(T.a,{icon:"times-circle",size:"1x"}))),s.a.createElement("button",{className:"video__searchbar__content__show-category",onClick:this.hideCategory},s.a.createElement(T.a,{icon:"border-all",size:"1x"}),s.a.createElement("small",null,"Tous")))))}}]),a}(n.Component),B=Object(l.b)((function(e){return console.log(e),{userToken:e.user.token,listOfVideos:e.movie.listOfVideos,titleOfVideos:e.movie.titleOfVideos}}),(function(e){return{dispatch:function(t){e(t)}}}))(P),q=a(16),G=a.n(q),L=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({video:document.getElementById("video-player")}),n.toggleFullScreen()},n.componentDidUpdate=function(){n.state.video.ontimeupdate=function(){n.getCurrentTime(),n.getDuration()},n.state.video.onplay=function(){n.setState({isPlay:!0})},n.state.video.onpause=function(){n.setState({isPlay:!1})}},n.componentWillUnmount=function(){n.pauseVideo()},n.setCookie=function(){n.state.video},n.getCurrentTime=function(){var e=n.convertSeconds(n.state.video.currentTime);n.setState({currentTime:e})},n.convertSeconds=function(e){var t=parseInt(e,10),a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60);e=t-3600*a-60*n;return a<10&&(a="0"+a),n<10&&(n="0"+n),e<10&&(e="0"+e),a+":"+n+":"+e},n.playVideo=function(){n.refs.vidRef.play(),n.setState({isPlay:!0})},n.pauseVideo=function(){n.refs.vidRef&&(n.refs.vidRef.pause(),n.refs.vidRef.removeAttribute("src"),n.refs.vidRef.load(),n.setState({isPlay:!1}))},n.toggleFullScreen=function(){n.myVideo.current.requestFullscreen?n.myVideo.current.requestFullscreen():n.myVideo.current.msRequestFullscreen?n.myVideo.current.msRequestFullscreen():n.myVideo.current.mozRequestFullScreen?n.myVideo.current.mozRequestFullScreen():n.myVideo.current.webkitRequestFullscreen&&n.myVideo.current.webkitRequestFullscreen()},n.render=function(){return s.a.createElement("div",{className:"video-player"},s.a.createElement("video",{id:"video-player",autoPlay:!0,controls:!0,className:"video-player__screen",ref:n.myVideo,src:n.props.mediaTitle,type:"video/mp4"}))},n.myVideo=s.a.createRef(),n.state={video:null,isPlay:!0,duration:"0:00",currentTime:"0:00"},n}return Object(y.a)(a,[{key:"getDuration",value:function(){var e=this.convertSeconds(this.state.video.duration);this.setState({duration:e})}}]),a}(s.a.Component),H=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).getVideoInfo=function(e){var t={headers:{Authorization:"Bearer ".concat(n.props.userToken)}};M.a.get("https://sith-api.hopto.org/api/one-film/"+e,t).then((function(e){var t=new Date;t=t.toLocaleDateString();var a={title:e.data.title,overview:e.data.overview,poster_path:e.data.poster_path,vote_average:e.data.vote_average,media_name:e.data.media_name,release_date:t};n.setState({selectVideo:a})})).catch((function(e){}))},n.showVideo=function(){n.setState({showVideo:!0})},n.state={selectVideo:null,showVideo:!1},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.split("/")[2];this.getVideoInfo(e)}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state.selectVideo;return s.a.createElement("div",{className:"video-detail"},s.a.createElement(w.b,{className:"video-detail__link-to-home",to:"/video"},s.a.createElement(T.a,{icon:"arrow-left",size:"1x"})),e&&s.a.createElement("div",{className:"video-detail__content"},s.a.createElement("div",{className:"video-detail__content__poster"},s.a.createElement("img",{src:e.poster_path,alt:"film-poster",className:"video-detail__content__poster__img"}),s.a.createElement("div",{className:"video-detail__content__poster__play"},s.a.createElement("div",{className:"video-detail__content__poster__play__background"}),s.a.createElement("span",{className:"video-detail__content__poster__play__icon",onClick:this.showVideo},s.a.createElement(T.a,{icon:"play",size:"2x"})))),s.a.createElement("div",{className:"video-detail__content__text"},s.a.createElement("h2",{className:"video-detail__content__text__title"},e.title),s.a.createElement("p",{className:"video-detail__content__text__overview"},e.overview),s.a.createElement("span",{className:"video-detail__content__text__vote"},s.a.createElement("span",null,"Note Tmdb:")," ",e.vote_average," / 10"),s.a.createElement("span",{className:"video-detail__content__text__release"},s.a.createElement("span",null,"Sortie:")," ",e.release_date))),this.state.showVideo&&s.a.createElement("div",{className:"video-detail__player"},s.a.createElement(L,{mediaTitle:"https://sith-api.hopto.org/api/video/"+e.media_name})))}}]),a}(n.Component),J=Object(k.g)(Object(l.b)((function(e){return{userToken:e.user.token}}),(function(e){return{dispatch:function(t){e(t)}}}))(H)),W=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handleIdChange=function(e){var t=e.target.value;n.setState({id:t})},n.handlePasswordChange=function(e){var t=e.target.value;n.setState({password:t})},n.handleSubmit=function(e){e.preventDefault();n.props.dispatch({type:"LOADER_START",value:!0}),n.setState({startSpinner:!0}),M.a.post("https://sith-api.hopto.org/api/login",{identifiant:n.state.id,password:n.state.password}).then((function(e){console.log(e);var t={type:"SAVE_USER",value:e.data};G.a.set("name",e.data.userName,{expires:30}),G.a.set("role",parseInt(e.data.userRole),{expires:30}),G.a.set("token",e.data.userToken,{expires:30}),n.props.dispatch(t),n.setState({startSpinner:!1,tokenNotCookie:e.data.userToken}),n.getAllFilms(e.data.userToken)})).catch((function(e){console.log(e),n.setState({connexionError:!0,startSpinner:!1})}))},n.getAllFilms=function(e){var t={headers:{Authorization:"Bearer ".concat(e)}};M.a.get("https://sith-api.hopto.org/api/all-films",t).then((function(e){var t=[],a=[],s=[];e.data.map((function(e,n){var o=e;t.push(o),s={key:e.title.toLowerCase(),value:e.title},a.push(s)}));var o={type:"GET_MOVIES",value:{listOfVideos:t,titleOfVideos:a}};n.props.dispatch(o);n.props.dispatch({type:"LOADER_START",value:!1})})).catch((function(e){console.log(e);n.props.dispatch({type:"LOADER_START",value:!1})}))},n.state={id:"",password:"",tokenNotCookie:"",validId:null,validPassword:null,connexionError:!1,passwordHidden:!0,startSpinner:!1,name:G.a.get("name"),role:G.a.get("role"),token:G.a.get("token")},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){if(this.state.name&&this.state.role){this.props.dispatch({type:"LOADER_START",value:!0});var e={type:"SAVE_USER",value:{userName:this.state.name,userRole:parseInt(this.state.role),userToken:this.state.token}};this.props.dispatch(e),this.getAllFilms(this.state.token)}}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"connexion"},s.a.createElement("div",{className:"connexion__content"},s.a.createElement("h2",{className:"connexion__content__title"},"Connexion requise pour acc\xe9der \xe0 nos diff\xe9rents services"),s.a.createElement("form",{className:"connexion__content__form"},s.a.createElement("div",{className:"connexion__content__form__formgroup__id"},s.a.createElement("label",{htmlFor:"exampleInputId"}," Identifiant"),s.a.createElement("input",{type:"text",id:"InputId",value:this.state.id,onChange:this.handleIdChange})),s.a.createElement("div",{className:"connexion__content__form__formgroup__password"},s.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Mot de Passe"),s.a.createElement("div",{className:"connexion__content__form__formgroup__password__content"},s.a.createElement("input",{type:this.state.passwordHidden?"password":"text",className:"",value:this.state.password,onChange:this.handlePasswordChange}),this.state.passwordHidden?s.a.createElement("span",{className:"connexion__content__form__formgroup__password__content__toggle",onClick:function(){return e.setState({passwordHidden:!1})}},s.a.createElement(T.a,{icon:"eye",size:"1x"})):s.a.createElement("span",{className:"connexion__content__form__formgroup__password__content__toggle",onClick:function(){return e.setState({passwordHidden:!0})}},s.a.createElement(T.a,{icon:"eye-slash",size:"1x"})))),s.a.createElement("div",{className:"connexion__content__form__submit"},s.a.createElement("button",{className:"connexion__content__form__submit__button",onClick:this.handleSubmit},this.state.startSpinner?s.a.createElement(T.a,{icon:"spinner",spin:!0,size:"1x"}):s.a.createElement("span",null,"Connexion"))),s.a.createElement("div",{className:"connexion__content__form__error"},this.state.connexionError&&s.a.createElement("p",null,"Identifiants invalides, veuillez r\xe9essayer"))),s.a.createElement("p",{className:"connexion__content__message"},"Si vous avez perdu votre identifiant ou votre mot de passe. Contacter l'administrateur, aucun mot de passe ou identifiant ne sera envoy\xe9 par courriel")))}}]),a}(n.Component),$=Object(l.b)((function(e){return{token:e.user.token}}),(function(e){return{dispatch:function(t){e(t)}}}))(W),K=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={selectPage:0},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"admin"},s.a.createElement(w.b,{className:"admin__link",to:"/admin/users"},s.a.createElement("span",null,"Gestion Utilisateurs")),s.a.createElement(w.b,{className:"admin__link",to:"/admin/videos"},s.a.createElement("span",null,"Gestion Films")),s.a.createElement(w.b,{className:"admin__link",to:"/admin/series"},s.a.createElement("span",null,"Gestion S\xe9ries")),s.a.createElement(w.b,{className:"admin__link",to:"/admin/musics"},s.a.createElement("span",null,"Gestion Musiques")))}}]),a}(n.Component),Q=Object(l.b)((function(e){return{}}),(function(e){return{dispatch:function(t){e(t)}}}))(K),X="https://sith-api.hopto.org/api/",Y="9c9ae8a3d0afe9b28787537f6455c4f0",Z=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).refresh=function(e){var t={headers:{Authorization:"Bearer ".concat(n.props.userToken)}};M.a.get(X+"check-films",t).then((function(e){console.log(e),n.getMedia()})).catch((function(e){console.log(e)}))},n.getMedia=function(){n.setState({medias:[]});var e={headers:{Authorization:"Bearer ".concat(n.props.userToken)}};M.a.get(X+"admin-all-films",e).then((function(e){e.data.map((function(t,a){var s={media_name:t.media_name,verified_by_admin:t.verified_by_admin},o=n.state.medias;return o.push(s),n.setState({medias:o,selectedMedia:e.data[0].media_name}),!0}))})).catch((function(e){console.log(e)}))},n.selectedMedia=function(e){n.setState({selectedMedia:e.target.value,filmTitle:e.target.value})},n.handleFilmTitleChange=function(e){var t=e.target.value;n.setState({filmTitle:t})},n.searchOnTmdb=function(e){e.preventDefault(),n.setState({searchResults:[],showResults:!0,statusMessage:!1});var t=n.state.filmTitle,a="https://api.themoviedb.org/3/search/movie?api_key="+Y+"&language=fr&query="+t;M.a.get(a).then((function(e){console.log(e),e.data.results.map((function(e,t){var a={index:t,genre_ids:e.genre_ids,title:e.title,overview:e.overview,poster_path:"https://image.tmdb.org/t/p/w300"+e.poster_path,vote_average:e.vote_average,release_date:e.release_date},s=n.state.searchResults;return s.push(a),n.setState({searchResults:s,searchStatusMessageError:!1}),!0}))})).catch((function(e){console.log(e),n.setState({searchStatusMessageError:!0})})),M.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key="+Y+"&language=fr").then((function(e){n.setState({tmdbGenres:e.data.genres})})).catch((function(e){console.log(e)}))},n.selectedFilm=function(e){var t=e.genre_ids,a=n.state.tmdbGenres,s=[];a.forEach((function(e){-1!==t.indexOf(e.id)&&s.push(e.name)})),console.log(e);var o={title:e.title,poster_path:e.poster_path,release_date:e.release_date,genres_name:s,overview:e.overview,vote_average:e.vote_average};n.setState({searchResults:[],selectedFilm:o,showResults:!1})},n.validSelectedFilm=function(e){var t=n.state.selectedFilm,a=n.state.selectedMedia;e.preventDefault(),console.log(a);var s={Authorization:"Bearer ".concat(n.props.userToken)},o={film:t,media_name:a};M.a.post(X+"add-film",o,{headers:s}).then((function(e){n.setState({statusMessage:"Film enregistr\xe9",statusMessageColor:"green"})})).catch((function(e){n.setState({statusMessage:"Une erreur est arriv\xe9e",statusMessageColor:"red"})})),n.getMedia()},n.onFileChange=function(e){n.setState({selectedFile:e.target.files[0]})},n.onFileUpload=function(){var e=new FormData;e.append("myFile",n.state.selectedFile,n.state.selectedFile.name),console.log(n.state.selectedFile);var t={Authorization:"Bearer ".concat(n.props.userToken),encType:"multipart/form-data"};M.a.post(X+"upload-film",e,{headers:t}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},n.fileData=function(){return n.state.selectedFile?s.a.createElement("div",null,s.a.createElement("h2",null,"File Details:"),s.a.createElement("p",null,"File Name: ",n.state.selectedFile.name),s.a.createElement("p",null,"File Type: ",n.state.selectedFile.type),s.a.createElement("p",null,"Last Modified:"," ",n.state.selectedFile.lastModifiedDate.toDateString())):s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("h4",null,"Choose before Pressing the Upload button"))},n.state={filmTitle:"",searchResults:[],selectedFilm:void 0,showResults:!0,medias:[],selectedMedia:void 0,statusMessage:!1,statusMessageColor:void 0,searchStatusMessageError:!1,tmdbGenres:void 0,selectedFile:null},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.getMedia()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.searchResults.map((function(t,a){return"https://image.tmdb.org/t/p/w300null"!==t.poster_path&&s.a.createElement("div",{className:"video__content__video-info",onClick:function(){return e.selectedFilm(t)},key:a},s.a.createElement("img",{src:t.poster_path,alt:"film-poster",className:"video__content__video-info__img"}),s.a.createElement("div",{className:"video__content__video-info__text"},s.a.createElement("span",{className:"video__content__video-info__text__title"},t.title),s.a.createElement("p",{className:"video__content__video-info__text__overview"},t.overview.substr(0,250)),s.a.createElement("span",{className:"video__content__video-info__text__vote"},"Note Tmdb: ",t.vote_average," / 10")))})),a=this.state.medias.map((function(e,t){return e.verified_by_admin?s.a.createElement("option",{style:{color:"green"},value:e.media_name,key:t},e.media_name):s.a.createElement("option",{style:{color:"red"},value:e.media_name,key:t},e.media_name)}));return s.a.createElement("div",{className:"admin-video"},s.a.createElement("div",{className:"admin-video__content"},s.a.createElement("button",{onClick:this.refresh},"Actualiser"),s.a.createElement("h2",{className:"admin-video__content__title"},"Ajouter un film"),s.a.createElement("form",{className:"admin-video__content__form"},s.a.createElement("div",{className:"connexion__content__form__formgroup__id"},s.a.createElement("label",{htmlFor:"exampleInputId"}," Choisir le m\xe9dia"),s.a.createElement("select",{name:"medias",style:{width:"100%",height:"2em"},onChange:this.selectedMedia,value:this.state.selectedMedia},a)),s.a.createElement("div",{className:"admin-video__content__form__input-search"},s.a.createElement("input",{autoComplete:"off",type:"text",className:"admin-video__content__form__input-search__input",id:"InputId",value:this.state.filmTitle,placeholder:"Nom du film",onChange:this.handleFilmTitleChange})),s.a.createElement("div",{className:"admin-video__content__form__submit"},s.a.createElement("button",{className:"admin-video__content__form__submit__button",onClick:this.searchOnTmdb},"Rechercher"))),this.state.showResults?s.a.createElement("div",{className:"admin-video__content__search-results"},t,this.state.searchStatusMessageError&&s.a.createElement("p",{style:{color:"red"}},"Aucun r\xe9sultat pour cette recherche")):s.a.createElement("div",{className:"admin-video__content__selected-film"},this.state.selectedFilm&&s.a.createElement("div",null,s.a.createElement("div",{className:"video__content__video-info",onClick:function(){return e.selectedFilm(e.state.selectedFilm)}},s.a.createElement("img",{src:this.state.selectedFilm.poster_path,alt:"film-poster",className:"video__content__video-info__img"}),s.a.createElement("div",{className:"video__content__video-info__text"},s.a.createElement("span",{className:"video__content__video-info__text__title"},this.state.selectedFilm.title),s.a.createElement("p",{className:"video__content__video-info__text__overview"},this.state.selectedFilm.overview.substr(0,250)),s.a.createElement("span",{className:"video__content__video-info__text__vote"},"Note Tmdb: ",this.state.selectedFilm.vote_average," / 10"))),s.a.createElement("div",{className:"admin-video__content__selected-film__player"},s.a.createElement("iframe",{title:"video-player",allowFullScreen:"alloFullScreen",height:"315",src:X+"video/"+this.state.selectedMedia,width:"100%","content-type":"video/mkv"})),s.a.createElement("div",{className:"admin-video__content__form__submit"},s.a.createElement("button",{className:"admin-video__content__form__submit__button",onClick:this.validSelectedFilm},"Valider ce film")),s.a.createElement("div",{className:"admin-video__content__message-status"},this.state.statusMessage&&s.a.createElement("p",{style:{color:this.state.statusMessageColor}},this.state.statusMessage))))),s.a.createElement("h3",null,"Upload Film (finira dans le dossier video path)"),s.a.createElement("div",null,s.a.createElement("input",{type:"file",onChange:this.onFileChange}),s.a.createElement("button",{onClick:this.onFileUpload},"Upload!")),this.fileData())}}]),a}(n.Component),ee=Object(l.b)((function(e){return{userToken:e.user.token}}),(function(e){return{dispatch:function(t){e(t)}}}))(Z),te="https://sith-api.hopto.org/api/",ae=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).refresh=function(e){M.a.get(te+"check-series").then((function(e){console.log(e),n.getMedia()})).catch((function(e){console.log(e)}))},n.getMedia=function(){n.setState({medias:[]}),M.a.get(te+"admin-all-films").then((function(e){e.data.map((function(t,a){var s={media_name:t.media_name,verified_by_admin:t.verified_by_admin},o=n.state.medias;return o.push(s),n.setState({medias:o,selectedMedia:e.data[0].media_name}),!0}))})).catch((function(e){console.log(e)}))},n.selectedMedia=function(e){n.setState({selectedMedia:e.target.value,filmTitle:e.target.value})},n.handleFilmTitleChange=function(e){var t=e.target.value;n.setState({filmTitle:t})},n.searchOnTmdb=function(e){e.preventDefault(),n.setState({searchResults:[],showResults:!0,statusMessage:!1});var t="https://api.themoviedb.org/3/search/movie?api_key=9c9ae8a3d0afe9b28787537f6455c4f0&language=fr&query="+n.state.filmTitle;M.a.get(t).then((function(e){e.data.results.map((function(e,t){var a={index:t,title:e.title,overview:e.overview,poster_path:"https://image.tmdb.org/t/p/w300"+e.poster_path,vote_average:e.vote_average,release_date:e.release_date},s=n.state.searchResults;return s.push(a),n.setState({searchResults:s,searchStatusMessageError:!1}),!0}))})).catch((function(e){console.log(e),n.setState({searchStatusMessageError:!0})}))},n.selectedFilm=function(e){console.log(e.overview),n.setState({searchResults:[],selectedFilm:e,showResults:!1})},n.validSelectedFilm=function(e){var t=n.state.selectedFilm,a=n.state.selectedMedia;e.preventDefault(),console.log(a),M.a.post(te+"add-film",{film:t,media_name:a}).then((function(e){n.setState({statusMessage:"Film enregistr\xe9",statusMessageColor:"green"})})).catch((function(e){n.setState({statusMessage:"Une erreur est arriv\xe9e",statusMessageColor:"red"})})),n.getMedia()},n.state={filmTitle:"",searchResults:[],selectedFilm:void 0,showResults:!0,medias:[],selectedMedia:void 0,statusMessage:!1,statusMessageColor:void 0,searchStatusMessageError:!1},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.searchResults.map((function(t,a){return"https://image.tmdb.org/t/p/w300null"!==t.poster_path&&s.a.createElement("div",{className:"video__content__video-info",onClick:function(){return e.selectedFilm(t)},key:a},s.a.createElement("img",{src:t.poster_path,alt:"film-poster",className:"video__content__video-info__img"}),s.a.createElement("div",{className:"video__content__video-info__text"},s.a.createElement("span",{className:"video__content__video-info__text__title"},t.title),s.a.createElement("p",{className:"video__content__video-info__text__overview"},t.overview.substr(0,250)),s.a.createElement("span",{className:"video__content__video-info__text__vote"},"Note Tmdb: ",t.vote_average," / 10")))})),a=this.state.medias.map((function(e,t){return e.verified_by_admin?s.a.createElement("option",{style:{color:"green"},value:e.media_name,key:t},e.media_name):s.a.createElement("option",{style:{color:"red"},value:e.media_name,key:t},e.media_name)}));return s.a.createElement("div",{className:"admin-video"},s.a.createElement("div",{className:"admin-video__content"},s.a.createElement("button",{onClick:this.refresh},"Actualiser"),s.a.createElement("h2",{className:"admin-video__content__title"},"Ajouter un film"),s.a.createElement("form",{className:"admin-video__content__form"},s.a.createElement("div",{className:"connexion__content__form__formgroup__id"},s.a.createElement("label",{htmlFor:"exampleInputId"}," Choisir le m\xe9dia"),s.a.createElement("select",{name:"medias",style:{width:"100%",height:"2em"},onChange:this.selectedMedia,value:this.state.selectedMedia},a)),s.a.createElement("div",{className:"admin-video__content__form__input-search"},s.a.createElement("input",{type:"text",className:"admin-video__content__form__input-search__input",id:"InputId",value:this.state.filmTitle,placeholder:"Nom du film",onChange:this.handleFilmTitleChange})),s.a.createElement("div",{className:"admin-video__content__form__submit"},s.a.createElement("button",{className:"admin-video__content__form__submit__button",onClick:this.searchOnTmdb},"Rechercher"))),this.state.showResults?s.a.createElement("div",{className:"admin-video__content__search-results"},t,this.state.searchStatusMessageError&&s.a.createElement("p",{style:{color:"red"}},"Aucun r\xe9sultat pour cette recherche")):s.a.createElement("div",{className:"admin-video__content__selected-film"},this.state.selectedFilm&&s.a.createElement("div",null,s.a.createElement("div",{className:"video__content__video-info",onClick:function(){return e.selectedFilm(e.state.selectedFilm)}},s.a.createElement("img",{src:this.state.selectedFilm.poster_path,alt:"film-poster",className:"video__content__video-info__img"}),s.a.createElement("div",{className:"video__content__video-info__text"},s.a.createElement("span",{className:"video__content__video-info__text__title"},this.state.selectedFilm.title),s.a.createElement("p",{className:"video__content__video-info__text__overview"},this.state.selectedFilm.overview.substr(0,250)),s.a.createElement("span",{className:"video__content__video-info__text__vote"},"Note Tmdb: ",this.state.selectedFilm.vote_average," / 10"))),s.a.createElement("div",{className:"admin-video__content__selected-film__player"},s.a.createElement("iframe",{title:"video-player",allowFullScreen:"alloFullScreen",height:"315",src:te+"video/"+this.state.selectedMedia,width:"100%","content-type":"video/mkv"})),s.a.createElement("div",{className:"admin-video__content__form__submit"},s.a.createElement("button",{className:"admin-video__content__form__submit__button",onClick:this.validSelectedFilm},"Valider ce film")),s.a.createElement("div",{className:"admin-video__content__message-status"},this.state.statusMessage&&s.a.createElement("p",{style:{color:this.state.statusMessageColor}},this.state.statusMessage))))))}}]),a}(n.Component),ne=Object(l.b)((function(e){return console.log(e),{}}),(function(e){return{dispatch:function(t){e(t)}}}))(ae),se=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).onFileChange=function(e){n.setState({selectedFile:e.target.files[0]})},n.onFileUpload=function(){var e=new FormData;e.append("myFile",n.state.selectedFile,n.state.selectedFile.name);var t={Authorization:"Bearer ".concat(n.props.userToken),encType:"multipart/form-data"};M.a.post("https://sith-api.hopto.org/api/upload-song",e,{headers:t}).then((function(e){})).catch((function(e){console.log(e)}))},n.fileData=function(){return n.state.selectedFile?s.a.createElement("div",null,s.a.createElement("h2",null,"File Details:"),s.a.createElement("p",null,"File Name: ",n.state.selectedFile.name),s.a.createElement("p",null,"File Type: ",n.state.selectedFile.type),s.a.createElement("p",null,"Last Modified:"," ",n.state.selectedFile.lastModifiedDate.toDateString())):s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("h4",null,"Choose before Pressing the Upload button"))},n.state={selectedFile:null},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"admin-music"},s.a.createElement("h2",null,"Musique admin"),s.a.createElement("h3",null,"Envoyer une musique (finira dans le dossier Autres)"),s.a.createElement("div",null,s.a.createElement("input",{type:"file",onChange:this.onFileChange}),s.a.createElement("button",{onClick:this.onFileUpload},"Upload!")),this.fileData())}}]),a}(n.Component),oe=Object(l.b)((function(e){return{userToken:e.user.token}}),(function(e){return{dispatch:function(t){e(t)}}}))(se),ie="https://sith-api.hopto.org/api/",le=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handleIdChange=function(e){var t=e.target.value;n.setState({id:t})},n.handlePasswordChange=function(e){var t=e.target.value;n.setState({password:t})},n.handleRoleChange=function(e){var t=e.target.value;n.setState({role:t})},n.handleSubmit=function(e){e.preventDefault(),console.log(n.state.id+"  "+n.state.password+"  "+n.state.role);var t={Authorization:"Bearer ".concat(n.props.userToken)},a={identifiant:n.state.id,password:n.state.password,role:n.state.role};M.a.post(ie+"register",a,{headers:t}).then((function(e){console.log(e),n.getUsers()})).catch((function(e){console.log(e),n.setState({connexionError:!0})}))},n.getUsers=function(){var e={headers:{Authorization:"Bearer ".concat(n.props.userToken)}};M.a.get(ie+"get-all-users",e).then((function(e){console.log(e),n.setState({users:e.data})})).catch((function(e){}))},n.selectUserToDelete=function(e){n.setState({selectUserToDelete:e.target.value})},n.handleSubmitDeleteUser=function(e){e.preventDefault();var t={Authorization:"Bearer ".concat(n.props.userToken)};M.a.delete(ie+"delete/"+n.state.selectUserToDelete,{headers:t}).then((function(e){console.log(e),n.setState({userDeleteMessage:e.data,userDeleteColor:"green"}),n.getUsers()})).catch((function(e){console.log(e),n.setState({userDeleteMessage:"Une erreur est arriv\xe9e",userDeleteColor:"red"})}))},n.state={id:"",password:"",role:1,validId:null,validPassword:null,connexionError:!1,users:[],selectUserToDelete:void 0,userDeleteMessage:!1,userDeleteColor:void 0},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state.users.map((function(e,t){return s.a.createElement("option",{value:e.name,key:t},e.name)}));return s.a.createElement("div",{className:"connexion"},s.a.createElement("div",{className:"connexion__content"},s.a.createElement("h2",{className:"connexion__content__title"},"Ajouter utilisateur"),s.a.createElement("form",{className:"connexion__content__form"},s.a.createElement("div",{className:"connexion__content__form__formgroup__id"},s.a.createElement("label",{htmlFor:"exampleInputId"}," Identifiant"),s.a.createElement("input",{type:"text",className:"",id:"InputId",value:this.state.id,onChange:this.handleIdChange})),s.a.createElement("div",{className:"connexion__content__form__formgroup__password"},s.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Mot de Passe"),s.a.createElement("input",{type:"text",className:"",id:"InputPassword",value:this.state.password,onChange:this.handlePasswordChange})),s.a.createElement("div",{className:"connexion__content__form__formgroup__password"},s.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Role"),s.a.createElement("input",{type:"number",className:"",id:"InputPassword",value:this.state.role,onChange:this.handleRoleChange})),s.a.createElement("div",{className:"connexion__content__form__submit"},s.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Valider")),s.a.createElement("div",{className:"connexion__content__form__error"},this.state.connexionError&&s.a.createElement("p",null,"Identifiants invalides, veuillez r\xe9essayer")))),s.a.createElement("hr",null),s.a.createElement("div",{className:"connexion__content"},s.a.createElement("h2",{className:"connexion__content__title"},"Supprimer utilisateur"),s.a.createElement("form",{className:"connexion__content__form"},s.a.createElement("div",{className:"connexion__content__form__formgroup__id"},s.a.createElement("label",{htmlFor:"exampleInputId"}," Identifiant"),s.a.createElement("select",{name:"users",style:{width:"100%",height:"2em"},onChange:this.selectUserToDelete,value:this.state.selectUserToDelete},e)),s.a.createElement("div",{className:"connexion__content__form__submit"},s.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmitDeleteUser},"Valider")),s.a.createElement("div",{className:"connexion__content__form__error"},this.state.userDeleteMessage&&s.a.createElement("p",{style:{color:this.state.userDeleteColor}},this.state.userDeleteMessage)))))}}]),a}(n.Component),re=Object(l.b)((function(e){return console.log(e),{userToken:e.user.token}}),(function(e){return{dispatch:function(t){e(t)}}}))(le),ce=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).getSeries=function(){n.setState({loadVideosSpinner:!0}),M.a.get("https://sith-api.hopto.org/api/check-series").then((function(e){n.setState({listOfSeries:e.data})})).catch((function(e){n.setState({loadVideosSpinner:!1})}))},n.state={loadVideosSpinner:!1,listOfSeries:[]},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.getSeries()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state.listOfSeries.map((function(e,t){return s.a.createElement(w.b,{className:"video__content__video-info",to:"/serie-detail/"+e.serie_name,key:t},s.a.createElement("div",{className:"video__content__video-info__text"},s.a.createElement("span",{className:"video__content__video-info__text__title"},e.serie_name),s.a.createElement("span",{className:"video__content__video-info__text__title"},e.seasons.length," saisons")))}));return s.a.createElement("div",{className:"video"},s.a.createElement("h2",null,"Series"),e)}}]),a}(n.Component),me=Object(l.b)((function(e){return{}}),(function(e){return{dispatch:function(t){e(t)}}}))(ce),_e=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"LOADER_START",value:!0})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e;return e=this.props.serverIsDown?this.props.isConnect?s.a.createElement(k.d,null,s.a.createElement(k.b,{path:"/admin/musics"},s.a.createElement(oe,null)),s.a.createElement(k.b,{path:"/admin/series"},s.a.createElement(ne,null)),s.a.createElement(k.b,{path:"/series"},s.a.createElement(me,null)),s.a.createElement(k.b,{path:"/admin/videos"},s.a.createElement(ee,null)),s.a.createElement(k.b,{path:"/admin/users"},s.a.createElement(re,null)),s.a.createElement(k.b,{path:"/admin"},s.a.createElement(Q,null)),s.a.createElement(k.b,{path:"/video-detail",component:pe},s.a.createElement(J,null)),s.a.createElement(k.b,{path:"/video"},s.a.createElement(B,null)),s.a.createElement(k.b,{path:"/music"},s.a.createElement(A,null)),s.a.createElement(k.b,{path:"/"},s.a.createElement(F,null))):s.a.createElement($,null):s.a.createElement("div",{className:"server-down"},s.a.createElement("div",{className:"server-down__content"},s.a.createElement("h2",{className:"server-down__content__title"},"Le serveur est actuellement en maintenance"),s.a.createElement("p",{className:"server-down__content__message"},"La page sera automatiquement mise \xe0 jour une fois la connexion r\xe9tablie"))),s.a.createElement("div",{className:"navigation"},s.a.createElement(C,null),s.a.createElement(w.a,null,s.a.createElement("div",{className:"navigation__header"},s.a.createElement(w.b,{className:"navigation__header__title",to:"/"},s.a.createElement("h1",null,"SITH"),s.a.createElement("span",null,"By Jellfedora"))),this.props.loaderStart&&s.a.createElement("div",{className:"loader"},s.a.createElement(T.a,{icon:"spinner",spin:!0,size:"2x"})),e))}}]),a}(n.Component),ue=Object(l.b)((function(e){return{serverIsDown:e.server.isStart,isConnect:e.user.isConnect,userRole:e.user.role,loaderStart:e.animations.loaderStart,userToken:e.user.token}}),(function(e){return{dispatch:function(t){e(t)}}}))(_e),de=a(23),ve=a(10),he=a(81);de.b.add(ve.m,ve.q,ve.i,ve.h,ve.l,ve.d,ve.o,ve.n,ve.j,ve.b,he.a,ve.f,ve.g,ve.p,ve.r,ve.e,ve.s,ve.t,ve.k,ve.a,ve.c);var pe=function(){return s.a.createElement(l.a,{store:E},s.a.createElement(ue,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,a){e.exports=a(155)},92:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.f8d844fa.chunk.js.map